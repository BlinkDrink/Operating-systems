<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>04Processes</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h3 id="a-5000">1. 04-a-5000</h3>
<p>Намерете командите на 10-те най-стари процеси в системата.</p>
<pre><code>	ps -eo "%t %c" --sort etime | tail -n 10 | cut -d " " -f 2
</code></pre>
<h3 id="a-6000">2. 04-a-6000</h3>
<p>Намерете PID и командата на процеса, който заема най-много виртуална памет в системата.</p>
<pre><code>	ps -eo cmd,pid --sort vsz | tail -n 1
</code></pre>
<h3 id="a-6300">3. 04-a-6300</h3>
<p>Изведете командата на най-стария процес</p>
<pre><code>	ps -eo cmd --sort etime | tail -n 1
</code></pre>
<h3 id="b-5000">4. 04-b-5000</h3>
<p>Намерете колко физическа памет заемат всички процеси на потребителската група root.</p>
<pre><code>	 ps -G root -g root -o size | awk '$1 != 0 {mySum += $1} END {print mySum}'
</code></pre>
<h3 id="b-6100">5. 04-b-6100</h3>
<p>Изведете имената на потребителите, които имат поне 2 процеса, чиято команда е vim (независимо какви са аргументите й)</p>
<pre><code>	ps -C vim -o user --sort user | uniq -c | sort -n -k 1,1 | awk '$1 &gt;= 2 {print $2}'
</code></pre>
<h3 id="b-6200">6. 04-b-6200</h3>
<p>Изведете имената на потребителите, които не са логнати в момента, но имат живи процеси</p>
<pre><code>	ps -U $(echo "$(who | awk '{print $1}' | tr '\n' ',' | head -c -1)") -u $(echo "$(who | awk '{print $1}' | tr '\n' ',' | head -c -1)")  -N -o user | sort | uniq
</code></pre>
<h3 id="b-7000">7. 04-b-7000</h3>
<p>Намерете колко физическа памет заемат осреднено всички процеси на потребителската група root. Внимавайте, когато групата няма нито един процес.</p>
<pre><code>	ps -G root -g root -o size | tail -n +2 | awk '{sum+=$1} END { if (NR != 0) print sum/NR}'
</code></pre>
<h3 id="b-7000-1">8. 04-b-7000</h3>
<p>Намерете всички PID и техните команди (без аргументите), които нямат tty, което ги управлява. Изведете списък само с командите без повторения.</p>
<pre><code>	ps -t - -o comm | sort | uniq
</code></pre>
<h3 id="b-9000">9. 04-b-9000</h3>
<p>Да се отпечатат PID на всички процеси, които имат повече деца от родителския си процес.</p>
<pre><code>	ps --no-headers -o pid --ppid=$(echo "$(ps --no-headers -o ppid --pid=1 | tr -d '( )|(\n)|(\t)')") - gets the number of children of the parent of process with pid=1
	ps --no-headers -o ppid --pid=1 | tr -d '( )|(\n)|(\t)')" - gets the parent of process with pid=1
</code></pre>
</div>
</body>

</html>
